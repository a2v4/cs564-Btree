<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BadgerDB: badgerdb::BTreeIndex Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BadgerDB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacebadgerdb.html">badgerdb</a></li><li class="navelem"><a class="el" href="classbadgerdb_1_1_b_tree_index.html">BTreeIndex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classbadgerdb_1_1_b_tree_index-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">badgerdb::BTreeIndex Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classbadgerdb_1_1_b_tree_index.html" title="BTreeIndex class. It implements a B+ Tree index on a single attribute of a relation....">BTreeIndex</a> class. It implements a B+ Tree index on a single attribute of a relation. This index supports only one scan at a time.  
 <a href="classbadgerdb_1_1_b_tree_index.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="btree_8h_source.html">btree.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4867de84c5392d9df9cb54438dd35d38"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbadgerdb_1_1_b_tree_index.html#a4867de84c5392d9df9cb54438dd35d38">BTreeIndex</a> (const std::string &amp;relationName, std::string &amp;outIndexName, <a class="el" href="classbadgerdb_1_1_buf_mgr.html">BufMgr</a> *bufMgrIn, const int attrByteOffset, const <a class="el" href="namespacebadgerdb.html#a9dc9c8fe64ff894720886ba4b9f81f4b">Datatype</a> attrType)</td></tr>
<tr class="separator:a4867de84c5392d9df9cb54438dd35d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a15bba5c82d90e316dd6a1a10cc52a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbadgerdb_1_1_b_tree_index.html#ad6a15bba5c82d90e316dd6a1a10cc52a">~BTreeIndex</a> ()</td></tr>
<tr class="separator:ad6a15bba5c82d90e316dd6a1a10cc52a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a051c8c03a5cc0ca9451bdd56ddb65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbadgerdb_1_1_b_tree_index.html#a70a051c8c03a5cc0ca9451bdd56ddb65">insertEntry</a> (const void *key, const <a class="el" href="structbadgerdb_1_1_record_id.html">RecordId</a> rid)</td></tr>
<tr class="separator:a70a051c8c03a5cc0ca9451bdd56ddb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ee990d5e56b3573e0e413f5b075d76"><td class="memItemLeft" align="right" valign="top"><a id="ae9ee990d5e56b3573e0e413f5b075d76"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>splitLeaf</b> (<a class="el" href="structbadgerdb_1_1_leaf_node_int.html">LeafNodeInt</a> *currNode, <a class="el" href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">PageId</a> pageid, <a class="el" href="classbadgerdb_1_1_r_i_d_key_pair.html">RIDKeyPair</a>&lt; int &gt; pair, int occupancy)</td></tr>
<tr class="separator:ae9ee990d5e56b3573e0e413f5b075d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df3aa4d90e34275fb96d4d0a07f8afd"><td class="memItemLeft" align="right" valign="top"><a id="a4df3aa4d90e34275fb96d4d0a07f8afd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>splitNonLeaf</b> (<a class="el" href="structbadgerdb_1_1_non_leaf_node_int.html">NonLeafNodeInt</a> *currNode, <a class="el" href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">PageId</a> pageid, int key, int occupancy)</td></tr>
<tr class="separator:a4df3aa4d90e34275fb96d4d0a07f8afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a10a75c8ecb39ff0934734815551112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbadgerdb_1_1_b_tree_index.html#a4a10a75c8ecb39ff0934734815551112">insertToLeaf</a> (<a class="el" href="structbadgerdb_1_1_leaf_node_int.html">LeafNodeInt</a> *currNode, <a class="el" href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">PageId</a> pageid, <a class="el" href="classbadgerdb_1_1_r_i_d_key_pair.html">RIDKeyPair</a>&lt; int &gt; pair)</td></tr>
<tr class="memdesc:a4a10a75c8ecb39ff0934734815551112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert given &lt;rid, key&gt; pair into a leaf at the given pageNo.  <a href="classbadgerdb_1_1_b_tree_index.html#a4a10a75c8ecb39ff0934734815551112">More...</a><br /></td></tr>
<tr class="separator:a4a10a75c8ecb39ff0934734815551112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00bd0ff384b81dd97193d07260725ed"><td class="memItemLeft" align="right" valign="top"><a id="aa00bd0ff384b81dd97193d07260725ed"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>insertToNonLeaf</b> (<a class="el" href="structbadgerdb_1_1_non_leaf_node_int.html">NonLeafNodeInt</a> *currNode, <a class="el" href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">PageId</a> pageid, int key)</td></tr>
<tr class="separator:aa00bd0ff384b81dd97193d07260725ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42299f1dd26092614c207de60c1ef213"><td class="memItemLeft" align="right" valign="top"><a id="a42299f1dd26092614c207de60c1ef213"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>traverse</b> (<a class="el" href="structbadgerdb_1_1_non_leaf_node_int.html">NonLeafNodeInt</a> *root, <a class="el" href="classbadgerdb_1_1_r_i_d_key_pair.html">RIDKeyPair</a>&lt; int &gt; pair, int currLevel)</td></tr>
<tr class="separator:a42299f1dd26092614c207de60c1ef213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d19c9d5f6d25b4efaf4efbb8991c179"><td class="memItemLeft" align="right" valign="top"><a id="a9d19c9d5f6d25b4efaf4efbb8991c179"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>traverse</b> (<a class="el" href="classbadgerdb_1_1_page.html">Page</a> *currPage, <a class="el" href="classbadgerdb_1_1_r_i_d_key_pair.html">RIDKeyPair</a>&lt; int &gt; pair, int currLevel, bool isLeaf)</td></tr>
<tr class="separator:a9d19c9d5f6d25b4efaf4efbb8991c179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a45b03cb542832364332e3d5d95001"><td class="memItemLeft" align="right" valign="top"><a id="ad2a45b03cb542832364332e3d5d95001"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sortedLeafEntry</b> (<a class="el" href="structbadgerdb_1_1_leaf_node_int.html">LeafNodeInt</a> *currNode, <a class="el" href="classbadgerdb_1_1_r_i_d_key_pair.html">RIDKeyPair</a>&lt; int &gt; pair, int occupancy)</td></tr>
<tr class="separator:ad2a45b03cb542832364332e3d5d95001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a011f833eb07d63a8a800df4f32592"><td class="memItemLeft" align="right" valign="top"><a id="a94a011f833eb07d63a8a800df4f32592"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sortedNonLeafEntry</b> (<a class="el" href="structbadgerdb_1_1_non_leaf_node_int.html">NonLeafNodeInt</a> *currNode, int key, int occupancy)</td></tr>
<tr class="separator:a94a011f833eb07d63a8a800df4f32592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199c94f3c8115f0044181d06c6e78656"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbadgerdb_1_1_b_tree_index.html#a199c94f3c8115f0044181d06c6e78656">startScan</a> (const void *lowVal, const <a class="el" href="namespacebadgerdb.html#aad50f9c7a9ef0cbcfe0b025a7aa5cb28">Operator</a> lowOp, const void *highVal, const <a class="el" href="namespacebadgerdb.html#aad50f9c7a9ef0cbcfe0b025a7aa5cb28">Operator</a> highOp)</td></tr>
<tr class="separator:a199c94f3c8115f0044181d06c6e78656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63cf345d36ff861ebaa86e30ee8fbdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbadgerdb_1_1_b_tree_index.html#ac63cf345d36ff861ebaa86e30ee8fbdb">scanNext</a> (<a class="el" href="structbadgerdb_1_1_record_id.html">RecordId</a> &amp;outRid)</td></tr>
<tr class="separator:ac63cf345d36ff861ebaa86e30ee8fbdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5bc648572e0dcfa467b5a27d87a6a1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbadgerdb_1_1_b_tree_index.html#af5bc648572e0dcfa467b5a27d87a6a1e">endScan</a> ()</td></tr>
<tr class="separator:af5bc648572e0dcfa467b5a27d87a6a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classbadgerdb_1_1_b_tree_index.html" title="BTreeIndex class. It implements a B+ Tree index on a single attribute of a relation....">BTreeIndex</a> class. It implements a B+ Tree index on a single attribute of a relation. This index supports only one scan at a time. </p>

<p class="definition">Definition at line <a class="el" href="btree_8h_source.html#l00195">195</a> of file <a class="el" href="btree_8h_source.html">btree.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4867de84c5392d9df9cb54438dd35d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4867de84c5392d9df9cb54438dd35d38">&#9670;&nbsp;</a></span>BTreeIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">badgerdb::BTreeIndex::BTreeIndex </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>relationName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>outIndexName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbadgerdb_1_1_buf_mgr.html">BufMgr</a> *&#160;</td>
          <td class="paramname"><em>bufMgrIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>attrByteOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacebadgerdb.html#a9dc9c8fe64ff894720886ba4b9f81f4b">Datatype</a>&#160;</td>
          <td class="paramname"><em>attrType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classbadgerdb_1_1_b_tree_index.html" title="BTreeIndex class. It implements a B+ Tree index on a single attribute of a relation....">BTreeIndex</a> Constructor. Check to see if the corresponding index file exists. If so, open the file. If not, create it and insert entries for every tuple in the base relation using <a class="el" href="classbadgerdb_1_1_file_scan.html" title="This class is used to sequentially scan records in a relation.">FileScan</a> class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">relationName</td><td>Name of file. </td></tr>
    <tr><td class="paramname">outIndexName</td><td>Return the name of index file. </td></tr>
    <tr><td class="paramname">bufMgrIn</td><td>Buffer Manager Instance </td></tr>
    <tr><td class="paramname">attrByteOffset</td><td>Offset of attribute, over which index is to be built, in the record </td></tr>
    <tr><td class="paramname">attrType</td><td>Datatype of attribute over which index is built </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbadgerdb_1_1_bad_index_info_exception.html" title="An exception that is thrown when a file operation is requested for a filename that doesn&#39;t exist.">BadIndexInfoException</a></td><td>If the index file already exists for the corresponding attribute, but values in metapage(relationName, attribute byte offset, attribute type etc.) do not match with values received through constructor parameters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="btree_8cpp_source.html#l00028">28</a> of file <a class="el" href="btree_8cpp_source.html">btree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    std::ostringstream idxStr;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    idxStr &lt;&lt; relationName &lt;&lt; <span class="charliteral">&#39;.&#39;</span> &lt;&lt; attrByteOffset;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    outIndexName = idxStr.str();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">// initialize</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    this-&gt;bufMgr = bufMgrIn;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    this-&gt;attrByteOffset = attrByteOffset;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    this-&gt;attributeType = attrType;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    this-&gt;currentPageData = <span class="keyword">new</span> Page;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    this-&gt;currentPageNum = <a class="code" href="classbadgerdb_1_1_page.html#a785a1e756d47fb7f8f3603a3fe8ffcef">Page::INVALID_NUMBER</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    this-&gt;rootPageNum = <a class="code" href="classbadgerdb_1_1_page.html#a785a1e756d47fb7f8f3603a3fe8ffcef">Page::INVALID_NUMBER</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    this-&gt;headerPageNum = <a class="code" href="classbadgerdb_1_1_page.html#a785a1e756d47fb7f8f3603a3fe8ffcef">Page::INVALID_NUMBER</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    this-&gt;scanExecuting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    this-&gt;nextEntry = -1;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (this-&gt;attributeType == INTEGER)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      this-&gt;nodeOccupancy = <a class="code" href="namespacebadgerdb.html#a66dbd0723b61fad437f949419e08e200">INTARRAYNONLEAFSIZE</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      this-&gt;leafOccupancy = <a class="code" href="namespacebadgerdb.html#a2195ac9af2c5aa506d1b6ca42ac503f9">INTARRAYLEAFSIZE</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// Check to see if the corresponding index file exists. If so, open the file.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// If not, create it</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classbadgerdb_1_1_file.html#a864d59b12302c26b14967bd1d3e520bd">BlobFile::exists</a>(outIndexName) == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="comment">// File found, so use it</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      file = <span class="keyword">new</span> BlobFile(outIndexName, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      headerPageNum = file-&gt;<a class="code" href="classbadgerdb_1_1_file.html#af0d4e1495ae2f3e690a1d96a30eae7a8">getFirstPageNo</a>();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="comment">// init page to store in</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      Page *headerPage;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="comment">// get page by pageNum and store in headerPage, which should be a META INFO page</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, headerPageNum, headerPage);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      IndexMetaInfo *metaInfoPage = (IndexMetaInfo *)headerPage;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      rootPageNum = metaInfoPage-&gt;rootPageNo;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="comment">// unpin page, and its not dirty because we only READ from it</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, headerPageNum, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="comment">// File not found, so create it</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      file = <span class="keyword">new</span> BlobFile(outIndexName, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      Page *headerPage;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      bufMgrIn-&gt;allocPage(file, headerPageNum, headerPage);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="comment">// insert metadata in header page</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      IndexMetaInfo *metaInfoPage = (IndexMetaInfo *)headerPage;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="comment">// copy relationName into the metaInfoPage</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      strcpy(metaInfoPage-&gt;relationName, relationName.c_str());</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      metaInfoPage-&gt;attrByteOffset = attrByteOffset;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      metaInfoPage-&gt;attrType = attrType;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      metaInfoPage-&gt;rootPageNo = rootPageNum;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="comment">// unpin page, and mark dirty because we wrote the meta info to the header page</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, headerPageNum, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <span class="comment">// init root page for use</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      Page *rootPage;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      bufMgrIn-&gt;allocPage(file, rootPageNum, rootPage);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="comment">// initialize root</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      NonLeafNodeInt *root = (NonLeafNodeInt *)rootPage;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="comment">// insert entries for every tuple in the base relation using FileScan class.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      FileScan *scanner = <span class="keyword">new</span> FileScan(relationName, bufMgrIn);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      std::string currRecord = scanner-&gt;getRecord();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      RecordId recordId;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;          scanner-&gt;scanNext(recordId);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">char</span> *currRecordStr = currRecord.c_str();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;          <span class="comment">// cast to INT to make key compatible in the future</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          <span class="keywordtype">int</span> *key = *((<span class="keywordtype">int</span> *)(currRecordStr + attrByteOffset));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          <a class="code" href="classbadgerdb_1_1_b_tree_index.html#a70a051c8c03a5cc0ca9451bdd56ddb65">insertEntry</a>(key, recordId);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">catch</span> (EndOfFileException &amp;e)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          scanExecuting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="comment">// unpin page, and its not dirty because we only READ from it</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, rootPageNum, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6a15bba5c82d90e316dd6a1a10cc52a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a15bba5c82d90e316dd6a1a10cc52a">&#9670;&nbsp;</a></span>~BTreeIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">badgerdb::BTreeIndex::~BTreeIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classbadgerdb_1_1_b_tree_index.html" title="BTreeIndex class. It implements a B+ Tree index on a single attribute of a relation....">BTreeIndex</a> Destructor. End any initialized scan, flush index file, after unpinning any pinned pages, from the buffer manager and delete file instance thereby closing the index file. Destructor should not throw any exceptions. All exceptions should be caught in here itself. </p>

<p class="definition">Definition at line <a class="el" href="btree_8cpp_source.html#l00126">126</a> of file <a class="el" href="btree_8cpp_source.html">btree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    scanExecuting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#acc61d1985720411ebb76e70f702827d3">flushFile</a>(file);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">delete</span> file;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af5bc648572e0dcfa467b5a27d87a6a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bc648572e0dcfa467b5a27d87a6a1e">&#9670;&nbsp;</a></span>endScan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BTreeIndex::endScan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Terminate the current scan. Unpin any pinned pages. Reset scan specific variables. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbadgerdb_1_1_scan_not_initialized_exception.html" title="An exception that is thrown when a file operation is requested for a filename that doesn&#39;t exist.">ScanNotInitializedException</a></td><td>If no scan has been initialized. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="btree_8cpp_source.html#l00804">804</a> of file <a class="el" href="btree_8cpp_source.html">btree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;{</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">if</span> (scanExecuting == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// throws ScanNotInitializedException() when called before a successful startScan call.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">throw</span> ScanNotInitializedException();</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">// terminates the current scan</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  scanExecuting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="comment">// unpins all the pages that have been pinned for the purpose of the scan</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, currentPageNum, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// reset scan data to NULL</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  currentPageData = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <a class="code" href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">PageId</a> nullPage = -1;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  currentPageNum = nullPage;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  nextEntry = -1;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a70a051c8c03a5cc0ca9451bdd56ddb65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a051c8c03a5cc0ca9451bdd56ddb65">&#9670;&nbsp;</a></span>insertEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void badgerdb::BTreeIndex::insertEntry </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbadgerdb_1_1_record_id.html">RecordId</a>&#160;</td>
          <td class="paramname"><em>rid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a new entry using the pair &lt;value,rid&gt;. Start from root to recursively find out the leaf to insert the entry in. The insertion may cause splitting of leaf node. This splitting will require addition of new leaf page number entry into the parent non-leaf, which may in-turn get split. This may continue all the way upto the root causing the root to get split. If root gets split, metapage needs to be changed accordingly. Make sure to unpin pages as soon as you can. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to insert, pointer to integer/double/char string </td></tr>
    <tr><td class="paramname">rid</td><td>Record ID of a record whose entry is getting inserted into the index. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="btree_8cpp_source.html#l00146">146</a> of file <a class="el" href="btree_8cpp_source.html">btree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// set up the RID-Key pair for insertion</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    RIDKeyPair&lt;int&gt; pair;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    pair.set(rid, (*((<span class="keywordtype">int</span> *)key)));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    Page *headerPage;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, headerPageNum, headerPage);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    IndexMetaInfo *metaInfo = (IndexMetaInfo *)headerPage;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">bool</span> isRootALeaf = metaInfo-&gt;isRootALeaf;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (isRootALeaf == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="comment">// insertToLeaf(pair, rootPageNum)</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      insertToNonLeaf(pair, rootPageNum)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// Unpin and flush to disk</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, rootPageNum, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a10a75c8ecb39ff0934734815551112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a10a75c8ecb39ff0934734815551112">&#9670;&nbsp;</a></span>insertToLeaf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void badgerdb::BTreeIndex::insertToLeaf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbadgerdb_1_1_leaf_node_int.html">LeafNodeInt</a> *&#160;</td>
          <td class="paramname"><em>currNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">PageId</a>&#160;</td>
          <td class="paramname"><em>pageid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbadgerdb_1_1_r_i_d_key_pair.html">RIDKeyPair</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>pair</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert given &lt;rid, key&gt; pair into a leaf at the given pageNo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pair</td><td>&lt;rid, key&gt; pair for insertion (only supporting INTEGER) </td></tr>
    <tr><td class="paramname">pageNo</td><td>page number where the leaf node is located </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="btree_8cpp_source.html#l00175">175</a> of file <a class="el" href="btree_8cpp_source.html">btree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    Page *currPage;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, pageNo, currPage);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    LeafNodeInt *currLeafNode = (LeafNodeInt *)currPage;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// used to find position in leaf to place</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">int</span> rid = pair.rid;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">int</span> key = pair.key;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">int</span> indexToInsertAt = 0;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// make sure index is less than leaf occupancy limit</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// check if KEY is larger than the current one we are at</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// check if the page_number is valid for that entry at that index</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">while</span> (indexToInsertAt &lt; leafOccupancy &amp;&amp; key &gt; currLeafNode-&gt;keyArray[indexToInsertAt] &amp;&amp; currLeafNode-&gt;ridArray[indexToInsertAt].page_number != <a class="code" href="classbadgerdb_1_1_page.html#a785a1e756d47fb7f8f3603a3fe8ffcef">Page::INVALID_NUMBER</a>)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="comment">// increment until we find a spot to insert our &lt;rid, key&gt; pair</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      indexToInsertAt++;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// start checking every index afterwards to find the end</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">int</span> lastIndex = indexToInsertAt;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">while</span> (lastIndex &lt; leafOccupancy &amp;&amp; currLeafNode-&gt;ridArray[lastIndex].page_number != <a class="code" href="classbadgerdb_1_1_page.html#a785a1e756d47fb7f8f3603a3fe8ffcef">Page::INVALID_NUMBER</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="comment">// increment till we find an OPEN spot in the arrays</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      lastIndex++;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (lastIndex &lt; leafOccupancy)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="comment">// insert normally because this means there is room for our entry</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = lastIndex; indexToInsertAt &lt; i; i--)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// move each element one index ahead to make room for our entry</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        currLeafNode-&gt;keyArray[i] = currLeafNode-&gt;keyArray[i - 1];</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        currLeafNode-&gt;ridArray[i] = currLeafNode-&gt;ridArray[i - 1];</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// insert rid and key info into the respective arrays in the current leaf node</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      currLeafNode-&gt;keyArray[indexToInsertAt] = key;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      currLeafNode-&gt;ridArray[indexToInsertAt] = rid;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// need to split leaf to make room</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// TODO: Utilize splitLeaf()</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="comment">// splitLeaf()</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// Unpin and flush to disk</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, pageNo, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac63cf345d36ff861ebaa86e30ee8fbdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac63cf345d36ff861ebaa86e30ee8fbdb">&#9670;&nbsp;</a></span>scanNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BTreeIndex::scanNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbadgerdb_1_1_record_id.html">RecordId</a> &amp;&#160;</td>
          <td class="paramname"><em>outRid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch the record id of the next index entry that matches the scan. Return the next record from current page being scanned. If current page has been scanned to its entirety, move on to the right sibling of current page, if any exists, to start scanning that page. Make sure to unpin any pages that are no longer required. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outRid</td><td><a class="el" href="structbadgerdb_1_1_record_id.html" title="Identifier for a record in a page.">RecordId</a> of next record found that satisfies the scan criteria returned in this </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbadgerdb_1_1_scan_not_initialized_exception.html" title="An exception that is thrown when a file operation is requested for a filename that doesn&#39;t exist.">ScanNotInitializedException</a></td><td>If no scan has been initialized. </td></tr>
    <tr><td class="paramname"><a class="el" href="classbadgerdb_1_1_index_scan_completed_exception.html" title="An exception that is thrown when a file operation is requested for a filename that doesn&#39;t exist.">IndexScanCompletedException</a></td><td>If no more records, satisfying the scan criteria, are left to be scanned. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="btree_8cpp_source.html#l00742">742</a> of file <a class="el" href="btree_8cpp_source.html">btree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> (!scanExecuting)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="keywordflow">throw</span> ScanNotInitializedException();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, currentPageNum, currentPageData);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    LeafNodeInt *currentNode = (LeafNodeInt *)currentPageData;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (nextEntry == leafOccupancy)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, currentPageNum, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordflow">if</span> (currentNode-&gt;rightSibPageNo == 0)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">throw</span> IndexScanCompletedException();</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        currentPageNum = currentNode-&gt;rightSibPageNo;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, currentPageNum, currentPageData);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        currentNode = (LeafNodeInt *)currentPageData;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        nextEntry = 0;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordtype">int</span> key = currentNode-&gt;keyArray[nextEntry];</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span> ((this-&gt;lowOp == GTE &amp;&amp; this-&gt;highOp == LTE) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp))</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      outRid = key;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GTE &amp;&amp; this-&gt;highOp == LT) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt; this-&gt;highOp))</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      outRid = key;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GT &amp;&amp; this-&gt;highOp == LTE) &amp;&amp; (key &gt; this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp))</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      outRid = key;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GT &amp;&amp; this-&gt;highOp == LT) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp))</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      outRid = key;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordflow">throw</span> IndexScanCompletedException();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span> (currentNode-&gt;rightSibPageNo == 0)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">throw</span> IndexScanCompletedException();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    nextEntry++;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a199c94f3c8115f0044181d06c6e78656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a199c94f3c8115f0044181d06c6e78656">&#9670;&nbsp;</a></span>startScan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BTreeIndex::startScan </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>lowValParm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacebadgerdb.html#aad50f9c7a9ef0cbcfe0b025a7aa5cb28">Operator</a>&#160;</td>
          <td class="paramname"><em>lowOpParm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>highValParm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacebadgerdb.html#aad50f9c7a9ef0cbcfe0b025a7aa5cb28">Operator</a>&#160;</td>
          <td class="paramname"><em>highOpParm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Begin a filtered scan of the index. For instance, if the method is called using ("a",GT,"d",LTE) then we should seek all entries with a value greater than "a" and less than or equal to "d". If another scan is already executing, that needs to be ended here. Set up all the variables for scan. Start from root to find out the leaf page that contains the first RecordID that satisfies the scan parameters. Keep that page pinned in the buffer pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lowVal</td><td>Low value of range, pointer to integer / double / char string </td></tr>
    <tr><td class="paramname">lowOp</td><td>Low operator (GT/GTE) </td></tr>
    <tr><td class="paramname">highVal</td><td>High value of range, pointer to integer / double / char string </td></tr>
    <tr><td class="paramname">highOp</td><td>High operator (LT/LTE) </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbadgerdb_1_1_bad_opcodes_exception.html" title="An exception that is thrown when some unexpected error occurs in the hash table.">BadOpcodesException</a></td><td>If lowOp and highOp do not contain one of their their expected values </td></tr>
    <tr><td class="paramname"><a class="el" href="classbadgerdb_1_1_bad_scanrange_exception.html" title="An exception that is thrown when some unexpected error occurs in the hash table.">BadScanrangeException</a></td><td>If lowVal &gt; highval </td></tr>
    <tr><td class="paramname"><a class="el" href="classbadgerdb_1_1_no_such_key_found_exception.html" title="An exception that is thrown when a file operation is requested for a filename that doesn&#39;t exist.">NoSuchKeyFoundException</a></td><td>If there is no key in the B+ tree that satisfies the scan criteria. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="btree_8cpp_source.html#l00542">542</a> of file <a class="el" href="btree_8cpp_source.html">btree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">// end current scan and get ready to start a new scan</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">if</span> (scanExecuting == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="classbadgerdb_1_1_b_tree_index.html#af5bc648572e0dcfa467b5a27d87a6a1e">endScan</a>();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// BadOpcodesException takes higher precedence over BadScanrangeException</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// only support GT and GTE here</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">if</span> (lowOpParm != GT || lowOpParm != GTE)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">throw</span> BadOpcodesException();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  this-&gt;lowOp = lowOpParm;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// only support LT and LTE here</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (highOpParm != LT || highOpParm != LTE)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">throw</span> BadOpcodesException();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  this-&gt;highOp = highOpParm;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// store scan settings into instance</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (this-&gt;attributeType == INTEGER){</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    this-&gt;lowValInt = *((<span class="keywordtype">int</span> *)lowValParm);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    this-&gt;highValInt = *((<span class="keywordtype">int</span> *)highValParm);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// If lowValue &gt; highValue, throw the exception BadScanrangeException.</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span> (this-&gt;lowValInt &gt; this-&gt;highValInt)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">throw</span> BadScanrangeException();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;attributeType == DOUBLE)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    this-&gt;lowValDouble = *((<span class="keywordtype">double</span> *)lowValParm);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    this-&gt;highValDouble = *((<span class="keywordtype">double</span> *)highValParm);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// If lowValue &gt; highValue, throw the exception BadScanrangeException.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (this-&gt;lowValDouble &gt; this-&gt;highValDouble){</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">throw</span> BadScanrangeException();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;attributeType == STRING){</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    this-&gt;lowValString = (<span class="keywordtype">char</span> *)lowValParm;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    this-&gt;highValString = (<span class="keywordtype">char</span> *)highValParm;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// If lowValue &gt; highValue, throw the exception BadScanrangeException.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (this-&gt;lowValString.compare(this-&gt;highValString) &gt; 0)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">throw</span> BadScanrangeException();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// Both the high and low values are in a binary form, i.e., for integer</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// keys, these point to the address of an integer.</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="comment">// Start from root to find out the leaf page that contains the first RecordID</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// that satisfies the scan parameters. Keep that page pinned in the buffer pool.</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">//currentPageNum = rootPageNum;</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="comment">//bufMgr-&gt;readPage(file, rootPageNum, currentPageData);</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="comment">//bufMgr-&gt;unPinPage(file, currentPageNum, true);</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="comment">// Start from root to find out the leaf page that contains the first RecordID</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// that satisfies the scan parameters. Keep that page pinned in the buffer pool.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, rootPageNum, currentPageData);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  currentPageNum = rootPageNum;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, currentPageNum, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">// currentNode should start at the ROOT, which should be a NonLeafNode</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  NonLeafNodeInt *currentNode = (NonLeafNodeInt *)currentPageData;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">// use the lowValParm to find the start of the range in the B-Tree</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// this works because you can only use GT or GTE with the lowValParm</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">while</span> (currentNode-&gt;level != 1)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="comment">// index is past at or past the limit</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keywordflow">if</span> (index &gt;= nodeOccupancy) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="comment">// check if page is valid</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="comment">//                       index or index+1</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keywordflow">if</span> (currentNode-&gt;pageNoArray[index] == <a class="code" href="classbadgerdb_1_1_page.html#a785a1e756d47fb7f8f3603a3fe8ffcef">Page::INVALID_NUMBER</a>) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="comment">// check if the lowVal is less than the current key at the index</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// currrent only works with INTEGERS</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span> (this-&gt;lowValInt &lt; currentNode-&gt;keyArray[index]) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="comment">// increment and run again</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      index++;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="comment">// Use the index we found to get the pageNo</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">PageId</a> nextNodePageNum = currentNode-&gt;pageNoArray[index];</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, nextNodePageNum, currentPageData);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, nextNodePageNum, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    currentPageNum = nextNodePageNum;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <span class="comment">// go to next node</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    currentNode = (NonLeafNodeInt *)currentPageData;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// TODO: (ANDY) still need to find LEAF and INDEX of starting position</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>){</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordtype">int</span> loop = 0;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    LeafNodeInt *currentNode = (LeafNodeInt *)currentPageData;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; leafOccupancy; i++){</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordtype">int</span> key = currentNode-&gt;keyArray[i];</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">if</span> ((this-&gt;lowOp == GTE &amp;&amp; this-&gt;highOp == LTE) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp)){</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        loop = 1;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        nextEntry = i;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GTE &amp;&amp; this-&gt;highOp == LT) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt; this-&gt;highOp)){</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        loop = 1;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        nextEntry = i;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GT &amp;&amp; this-&gt;highOp == LTE) &amp;&amp; (key &gt; this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp))</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        loop = 1;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        nextEntry = i;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GT &amp;&amp; this-&gt;highOp == LT) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp))</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        loop = 1;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        nextEntry = i;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GTE &amp;&amp; this-&gt;highOp == LT) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt; this-&gt;highOp))</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        loop = 1;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GT &amp;&amp; this-&gt;highOp == LTE) &amp;&amp; (key &gt; this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp))</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        loop = 1;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((this-&gt;lowOp == GT &amp;&amp; this-&gt;highOp == LT) &amp;&amp; (key &gt;= this-&gt;lowOp &amp;&amp; key &lt;= this-&gt;highOp))</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        scanExecuting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        loop = 1;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment">// Need to check which attributeType we are working with and then use that compare method properly</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="comment">// else if ((this-&gt;highOp == LT &amp;&amp; key &gt;= this-&gt;h) || (this-&gt;highOp == LTE &amp;&amp; key &gt; highValParm))</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="comment">// {</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="comment">//  bufMgr-&gt;unPinPage(file, currentPageNum, false);</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="comment">//  throw NoSuchKeyFoundException();</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// }</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="comment">// when i is the last one and still not out of loop so its not found in the node</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keywordflow">if</span> (i == leafOccupancy - 1)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">unPinPage</a>(file, currentPageNum, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">if</span> (currentNode-&gt;rightSibPageNo != 0)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          currentPageNum = currentNode-&gt;rightSibPageNo;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          bufMgr-&gt;<a class="code" href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">readPage</a>(file, currentPageNum, currentPageData);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;          <span class="keywordflow">throw</span> NoSuchKeyFoundException();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keywordflow">if</span> (loop == 1)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// // If there is no key in the B+ tree that satisfies the scan criteria,</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// // throw the exception NoSuchKeyFoundException.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">// if () {</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">//  throw NoSuchKeyFoundException();</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// }</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/afs/cs.wisc.edu/u/v/u/vujnovich/private/school/cs564/hw3/cs564-Btree/src/<a class="el" href="btree_8h_source.html">btree.h</a></li>
<li>/afs/cs.wisc.edu/u/v/u/vujnovich/private/school/cs564/hw3/cs564-Btree/src/<a class="el" href="btree_8cpp_source.html">btree.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassbadgerdb_1_1_page_html_a785a1e756d47fb7f8f3603a3fe8ffcef"><div class="ttname"><a href="classbadgerdb_1_1_page.html#a785a1e756d47fb7f8f3603a3fe8ffcef">badgerdb::Page::INVALID_NUMBER</a></div><div class="ttdeci">static const PageId INVALID_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="page_8h_source.html#l00124">page.h:124</a></div></div>
<div class="ttc" id="aclassbadgerdb_1_1_buf_mgr_html_acc61d1985720411ebb76e70f702827d3"><div class="ttname"><a href="classbadgerdb_1_1_buf_mgr.html#acc61d1985720411ebb76e70f702827d3">badgerdb::BufMgr::flushFile</a></div><div class="ttdeci">void flushFile(const File *file)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8cpp_source.html#l00190">buffer.cpp:190</a></div></div>
<div class="ttc" id="anamespacebadgerdb_html_a2195ac9af2c5aa506d1b6ca42ac503f9"><div class="ttname"><a href="namespacebadgerdb.html#a2195ac9af2c5aa506d1b6ca42ac503f9">badgerdb::INTARRAYLEAFSIZE</a></div><div class="ttdeci">const int INTARRAYLEAFSIZE</div><div class="ttdoc">Number of key slots in B+Tree leaf for INTEGER key.</div><div class="ttdef"><b>Definition:</b> <a href="btree_8h_source.html#l00049">btree.h:49</a></div></div>
<div class="ttc" id="aclassbadgerdb_1_1_b_tree_index_html_af5bc648572e0dcfa467b5a27d87a6a1e"><div class="ttname"><a href="classbadgerdb_1_1_b_tree_index.html#af5bc648572e0dcfa467b5a27d87a6a1e">badgerdb::BTreeIndex::endScan</a></div><div class="ttdeci">void endScan()</div><div class="ttdef"><b>Definition:</b> <a href="btree_8cpp_source.html#l00804">btree.cpp:804</a></div></div>
<div class="ttc" id="aclassbadgerdb_1_1_b_tree_index_html_a70a051c8c03a5cc0ca9451bdd56ddb65"><div class="ttname"><a href="classbadgerdb_1_1_b_tree_index.html#a70a051c8c03a5cc0ca9451bdd56ddb65">badgerdb::BTreeIndex::insertEntry</a></div><div class="ttdeci">void insertEntry(const void *key, const RecordId rid)</div><div class="ttdef"><b>Definition:</b> <a href="btree_8cpp_source.html#l00146">btree.cpp:146</a></div></div>
<div class="ttc" id="aclassbadgerdb_1_1_file_html_af0d4e1495ae2f3e690a1d96a30eae7a8"><div class="ttname"><a href="classbadgerdb_1_1_file.html#af0d4e1495ae2f3e690a1d96a30eae7a8">badgerdb::File::getFirstPageNo</a></div><div class="ttdeci">PageId getFirstPageNo()</div><div class="ttdef"><b>Definition:</b> <a href="file_8cpp_source.html#l00062">file.cpp:62</a></div></div>
<div class="ttc" id="anamespacebadgerdb_html_a1f49e404293bf4240756b89b53b1587a"><div class="ttname"><a href="namespacebadgerdb.html#a1f49e404293bf4240756b89b53b1587a">badgerdb::PageId</a></div><div class="ttdeci">std::uint32_t PageId</div><div class="ttdoc">Identifier for a page in a file.</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00015">types.h:15</a></div></div>
<div class="ttc" id="aclassbadgerdb_1_1_buf_mgr_html_aa9bdf04c8543f59744db22efa9420c89"><div class="ttname"><a href="classbadgerdb_1_1_buf_mgr.html#aa9bdf04c8543f59744db22efa9420c89">badgerdb::BufMgr::unPinPage</a></div><div class="ttdeci">void unPinPage(File *file, const PageId PageNo, const bool dirty)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8cpp_source.html#l00155">buffer.cpp:155</a></div></div>
<div class="ttc" id="aclassbadgerdb_1_1_file_html_a864d59b12302c26b14967bd1d3e520bd"><div class="ttname"><a href="classbadgerdb_1_1_file.html#a864d59b12302c26b14967bd1d3e520bd">badgerdb::File::exists</a></div><div class="ttdeci">static bool exists(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> <a href="file_8cpp_source.html#l00046">file.cpp:46</a></div></div>
<div class="ttc" id="anamespacebadgerdb_html_a66dbd0723b61fad437f949419e08e200"><div class="ttname"><a href="namespacebadgerdb.html#a66dbd0723b61fad437f949419e08e200">badgerdb::INTARRAYNONLEAFSIZE</a></div><div class="ttdeci">const int INTARRAYNONLEAFSIZE</div><div class="ttdoc">Number of key slots in B+Tree non-leaf for INTEGER key.</div><div class="ttdef"><b>Definition:</b> <a href="btree_8h_source.html#l00055">btree.h:55</a></div></div>
<div class="ttc" id="aclassbadgerdb_1_1_buf_mgr_html_a9f853f0f1d4628e7e14374d0c7c6a4f3"><div class="ttname"><a href="classbadgerdb_1_1_buf_mgr.html#a9f853f0f1d4628e7e14374d0c7c6a4f3">badgerdb::BufMgr::readPage</a></div><div class="ttdeci">void readPage(File *file, const PageId PageNo, Page *&amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8cpp_source.html#l00121">buffer.cpp:121</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
